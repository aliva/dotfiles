#!/bin/bash

function deadbeef_fun() {
    if ! pgrep deadbeef &>/dev/null
    then
        return
    fi

    if [[ $1 == "info" ]]
    then
        deadbeef --nowplaying "%t - %a"  2>/dev/null
        return
    fi
    deadbeef --$1
}

case $1 in
    next)
        echo next
        deadbeef_fun next
        ;;
    prev)
        echo prev
        deadbeef_fun prev
        ;;
    play)
        echo play
        deadbeef_fun play-pause
        ;;
    pause)
        echo pause
        deadbeef_fun play-pause
        ;;
    stop)
        echo stop
        deadbeef_fun stop
        ;;
    info)
        echo info
        echo "DeaDBeeF : $(deadbeef_fun info)"
        ;;
    *)
        echo What? $1
esac
